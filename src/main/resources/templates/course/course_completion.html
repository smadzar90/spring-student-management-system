<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="_layout">
<body>
<div layout:fragment="content">
    <div class="mb-3 pt-3 pb-3 d-flex align-items-center">
        <div>
            <h3 class="m-0">
                Course Completion
            </h3>
            <p class="m-0 text-muted">Student</p>
        </div>
    </div>
    <div>
        <p><strong>Id:</strong> <span th:text="${student.getId()}"></span></p>
        <p><strong>First name:</strong> <span th:text="${student.getFirstName()}"></span></p>
        <p><strong>Last name:</strong> <span th:text="${student.getLastName()}"></span></p>
        <div class="student-list" th:if="${courses.size() > 0}">
            <h5>Courses</h5>
            <div class="row">
                <div class="col-lg-12">
                    <div class="table-responsive rounded">
                        <table class="table m-0">
                            <thead>
                            <tr class="bg-light">
                                <th scope="col">ID</th>
                                <th scope="col">Name</th>
                                <th scope="col">Mentor</th>
                                <th scope="col">Students Enrolled</th>
                                <th scope="col">Students Completed</th>
                                <th scope="col"></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="course: ${courses}">
                                <td class="align-middle" th:text="${course.getId()}"></td>
                                <td class="align-middle" th:text="${course.getName()}"></td>
                                <td class="align-middle"
                                    th:text="'Dr. ' + ${course.getMentor().getFirstName()} + ' ' + ${course.getMentor().getFirstName()}"></td>
                                <td class="align-middle" th:text="${course.getStudentsEnrolled()}"></td>
                                <td class="align-middle" th:text="${course.getStudentsCompleted()}"></td>
                                <td class="align-middle">
                                    <a th:href="@{'/studentsystem/courses/complete/' + ${student.getId()} + '/' + ${course.getId()}}">
                                        <button class="btn btn-success">
                                            Complete
                                        </button>
                                    </a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="text-muted pt-3 mb-5" th:text="${courses.size() == 0 ? 'There are no courses available' : ''}"></div>
</div>
</body>
</html>